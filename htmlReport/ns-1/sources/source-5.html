


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > GameScreen</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.mygdx.game</a>
</div>

<h1>Coverage Summary for Class: GameScreen (com.mygdx.game)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GameScreen</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/35)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/354)
  </span>
</td>
</tr>
  <tr>
    <td class="name">GameScreen$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreen$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreen$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreen$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreen$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreen$6</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/14)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/50)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/382)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.mygdx.game;
&nbsp;
&nbsp;import com.badlogic.gdx.graphics.g2d.TextureRegion;
&nbsp;import com.badlogic.gdx.Input.Keys;
&nbsp;import com.badlogic.gdx.maps.MapLayer;
&nbsp;import com.badlogic.gdx.maps.MapLayers;
&nbsp;import com.badlogic.gdx.math.Vector3;
&nbsp;import com.badlogic.gdx.scenes.scene2d.InputEvent;
&nbsp;import com.badlogic.gdx.scenes.scene2d.Stage;
&nbsp;import com.badlogic.gdx.scenes.scene2d.ui.Button;
&nbsp;import com.badlogic.gdx.scenes.scene2d.ui.Image;
&nbsp;import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;
&nbsp;import com.badlogic.gdx.scenes.scene2d.ui.Table;
&nbsp;import com.badlogic.gdx.scenes.scene2d.utils.ClickListener;
&nbsp;import com.badlogic.gdx.scenes.scene2d.utils.Drawable;
&nbsp;import com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable;
&nbsp;import com.badlogic.gdx.utils.Align;
&nbsp;import com.mygdx.game.Core.*;
&nbsp;import com.mygdx.game.Core.GameState.Difficulty;
&nbsp;import com.mygdx.game.Core.GameState.DifficultyMaster;
&nbsp;import com.mygdx.game.Core.GameState.DifficultyState;
&nbsp;import com.mygdx.game.Core.GameState.GameState;
&nbsp;import com.mygdx.game.Core.GameState.ItemState;
&nbsp;import com.mygdx.game.Core.GameState.SaveState;
&nbsp;import com.mygdx.game.Core.ValueStructures.CustomerControllerParams;
&nbsp;import com.mygdx.game.Core.ValueStructures.EndOfGameValues;
&nbsp;import com.mygdx.game.Items.Item;
&nbsp;import com.mygdx.game.Items.ItemEnum;
&nbsp;
&nbsp;import java.io.IOException;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.LinkedList;
&nbsp;import java.util.List;
&nbsp;
&nbsp;import com.badlogic.gdx.Gdx;
&nbsp;import com.badlogic.gdx.Input;
&nbsp;import com.badlogic.gdx.Screen;
&nbsp;import com.badlogic.gdx.audio.Music;
&nbsp;import com.badlogic.gdx.graphics.Color;
&nbsp;import com.badlogic.gdx.graphics.GL20;
&nbsp;import com.badlogic.gdx.graphics.OrthographicCamera;
&nbsp;import com.badlogic.gdx.graphics.Texture;
&nbsp;import com.badlogic.gdx.graphics.g2d.BitmapFont;
&nbsp;import com.badlogic.gdx.maps.MapObject;
&nbsp;import com.badlogic.gdx.maps.objects.RectangleMapObject;
&nbsp;import com.badlogic.gdx.maps.tiled.TiledMapRenderer;
&nbsp;import com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;
&nbsp;import com.badlogic.gdx.math.Rectangle;
&nbsp;import com.badlogic.gdx.math.Vector2;
&nbsp;import com.badlogic.gdx.physics.box2d.Body;
&nbsp;import com.badlogic.gdx.physics.box2d.BodyDef;
&nbsp;import com.badlogic.gdx.physics.box2d.Box2DDebugRenderer;
&nbsp;import com.badlogic.gdx.physics.box2d.Contact;
&nbsp;import com.badlogic.gdx.physics.box2d.ContactImpulse;
&nbsp;import com.badlogic.gdx.physics.box2d.ContactListener;
&nbsp;import com.badlogic.gdx.physics.box2d.FixtureDef;
&nbsp;import com.badlogic.gdx.physics.box2d.Manifold;
&nbsp;import com.badlogic.gdx.physics.box2d.PolygonShape;
&nbsp;import com.badlogic.gdx.physics.box2d.World;
&nbsp;import com.badlogic.gdx.scenes.scene2d.ui.Label;
&nbsp;import com.mygdx.game.RecipeAndComb.CombinationDict;
&nbsp;import com.mygdx.game.RecipeAndComb.RecipeDict;
&nbsp;import com.mygdx.game.Stations.*;
&nbsp;import jdk.internal.org.jline.utils.DiffHelper.Diff;
&nbsp;
&nbsp;/**
&nbsp; * This is the main class of the game which runs all the logic and rendering Here all the outside
&nbsp; * objects are created and drawn as well as interactions registered
&nbsp; *
&nbsp; * @author Robin Graham
&nbsp; * @author Riko Puusepp
&nbsp; * @author Kelvin Chen
&nbsp; * @author Amy Cross
&nbsp; * @author Labib Zabeneh
&nbsp; */
<b class="nc">&nbsp;public class GameScreen implements Screen {</b>
&nbsp;
&nbsp;  // game attributes
&nbsp;  private final MyGdxGame game;
&nbsp;
&nbsp;  // camera
&nbsp;  private final OrthographicCamera camera;
&nbsp;  private Pathfinding pathfinding;
&nbsp;  public static final int TILE_WIDTH = 32;
&nbsp;  public static final int TILE_HEIGHT = 32;
&nbsp;
&nbsp;  // box2d
&nbsp;  static World world;
&nbsp;
&nbsp;  public CustomerController customerController;
&nbsp;
&nbsp;  public Powerup powerup;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;  // map
&nbsp;  private final TiledMapRenderer mapRenderer;
&nbsp;
&nbsp;  public MasterChef masterChef;
&nbsp;
<b class="nc">&nbsp;  List&lt;GameObject&gt; Stations = new LinkedList();</b>
<b class="nc">&nbsp;  List&lt;GameObject&gt; customerCounters = new LinkedList();</b>
<b class="nc">&nbsp;  List&lt;GameObject&gt; assemblyStations = new LinkedList();</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;  public GameObject exitLogo = new GameObject(new BlackTexture(&quot;Exit.png&quot;));</b>
&nbsp;
&nbsp;  // game timer and displayTimer
<b class="nc">&nbsp;  private float seconds = 0f;</b>
<b class="nc">&nbsp;  private int timer = 0;</b>
&nbsp;  private final Label timerLabel;
&nbsp;  private final Label moneyLabel;
&nbsp;  private final BitmapFont timerFont;
&nbsp;
<b class="nc">&nbsp;  boolean Paused = false;</b>
&nbsp;  DifficultyState difficultyState;
&nbsp;  Difficulty difficulty;
&nbsp;  public static final int viewportWidth = 32 * TILE_WIDTH;
&nbsp;  public static final int viewportHeight = 18 * TILE_HEIGHT;
&nbsp;  Music gameMusic;
&nbsp;
&nbsp;  public showRecipeInstructions recipeScreen;
&nbsp;
&nbsp;  Stage pauseStage; // stage for the pause menu
&nbsp;  Stage gameUIStage; // stage for the game UI
&nbsp;  float scale;
&nbsp;  boolean isEndlessMode;
&nbsp;
&nbsp;  /**
&nbsp;   * Constructor class which initialises all the variables needed to draw the sprites and also
&nbsp;   * manage the logic of the render as well as setting the camera and map
&nbsp;   *
&nbsp;   * @param game base Object which is used to draw on
&nbsp;   * @author Amy Cross
&nbsp;   * @author Felix Seanor
&nbsp;   * @author Sam Toner
&nbsp;   * @author Jack Vickers
&nbsp;   * @author Jack Hinton
&nbsp;   */
&nbsp;  public GameScreen(MyGdxGame game, int numCustomers, boolean loadSave,
<b class="nc">&nbsp;      Difficulty difficultyLevel) {</b>
<b class="nc">&nbsp;    this.game = game;</b>
<b class="nc">&nbsp;    camera = new OrthographicCamera();</b>
<b class="nc">&nbsp;    recipeScreen = new showRecipeInstructions();</b>
&nbsp;    //recipeScreen.showRecipeInstruction();
<b class="nc">&nbsp;    CameraFunctions camera1 = CameraFunctions.camera;</b>
<b class="nc">&nbsp;    camera1.updateCamera(camera);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;    camera.setToOrtho(false, viewportWidth, viewportHeight);</b>
<b class="nc">&nbsp;    camera.update();</b>
&nbsp;
<b class="nc">&nbsp;    gameMusic = Gdx.audio.newMusic(Gdx.files.internal(&quot;gameMusic.mp3&quot;));</b>
<b class="nc">&nbsp;    gameMusic.setLooping(true);</b>
&nbsp;
<b class="nc">&nbsp;    recipeScreen.createInstructionPage(&quot;Empty&quot;);</b>
&nbsp;
<b class="nc">&nbsp;    world = new World(new Vector2(0, 0), true);</b>
<b class="nc">&nbsp;    exitLogo.isVisible = false;</b>
<b class="nc">&nbsp;    exitLogo.getBlackTexture().height = 30;</b>
<b class="nc">&nbsp;    exitLogo.getBlackTexture().width = 30;</b>
<b class="nc">&nbsp;    exitLogo.position = new Vector2(713, 454);</b>
&nbsp;
&nbsp;    // add map
<b class="nc">&nbsp;    mapRenderer = new OrthogonalTiledMapRenderer(game.map);</b>
<b class="nc">&nbsp;    mapRenderer.setView(camera);</b>
&nbsp;
<b class="nc">&nbsp;    difficultyState = DifficultyMaster.getDifficulty(difficultyLevel);</b>
&nbsp;
<b class="nc">&nbsp;    pathfinding = new Pathfinding(TILE_WIDTH / 4, viewportWidth, viewportWidth);</b>
&nbsp;
<b class="nc">&nbsp;    masterChef = new MasterChef(2, world, camera, pathfinding, difficultyState.chefParams);</b>
<b class="nc">&nbsp;    GameObjectManager.objManager.AppendLooseScript(masterChef);</b>
&nbsp;
<b class="nc">&nbsp;    CustomerControllerParams CCParams = difficultyState.ccParams;</b>
&nbsp;
<b class="nc">&nbsp;    CCParams.NoCustomers = numCustomers;</b>
<b class="nc">&nbsp;    customerController = new CustomerController(new Vector2(200, 100), new Vector2(360, 180),</b>
<b class="nc">&nbsp;        pathfinding, (EndOfGameValues vals) -&gt; EndGame(vals), CCParams, new Vector2(190, 390),</b>
&nbsp;        new Vector2(190, 290), new Vector2(290, 290));
&nbsp;    // customerController.SetWaveAmount(1);//Demonstration on how to do waves, -1 for endless
&nbsp;
<b class="nc">&nbsp;    GameObjectManager.objManager.AppendLooseScript(customerController);</b>
&nbsp;
<b class="nc">&nbsp;    powerup = new Powerup(masterChef, customerController); // powerup object</b>
&nbsp;
<b class="nc">&nbsp;    new CombinationDict();</b>
<b class="nc">&nbsp;    CombinationDict.combinations.implementItems();</b>
<b class="nc">&nbsp;    new RecipeDict();</b>
<b class="nc">&nbsp;    RecipeDict.recipes.implementRecipes();</b>
&nbsp;
<b class="nc">&nbsp;    createCollisionListener();</b>
<b class="nc">&nbsp;    int[] objectLayers = {3, 4, 6, 9, 11, 13, 16, 18, 20, 22, 24, 25, 26, 27, 28, 29, 30, 31, 32,</b>
&nbsp;        33, 34, 35, 36, 37, 38, 39};
&nbsp;
&nbsp;    //Fixed the hideous mechanism for creating collidable objects
<b class="nc">&nbsp;    for (int n = 0; n &lt; 17; n++) {</b>
<b class="nc">&nbsp;      MapLayer layer = game.map.getLayers().get(n);</b>
<b class="nc">&nbsp;      String name = layer.getName();</b>
&nbsp;
<b class="nc">&nbsp;      for (MapObject object : layer.getObjects()</b>
<b class="nc">&nbsp;          .getByType(RectangleMapObject.class)) {</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle rect = ((RectangleMapObject) object).getRectangle();</b>
<b class="nc">&nbsp;        buildObject(world, rect.getX(), rect.getY(), rect.getWidth(), rect.getHeight(), &quot;Static&quot;,</b>
&nbsp;            name);
&nbsp;
<b class="nc">&nbsp;        switch (name) {</b>
&nbsp;          case &quot;bin&quot;:
<b class="nc">&nbsp;            CreateBin(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;counter&quot;:
<b class="nc">&nbsp;            CreateAssembly(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;frying&quot;:
<b class="nc">&nbsp;            CreateHobs(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;chopping board&quot;:
<b class="nc">&nbsp;            CreateChopping(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;toaster&quot;:
<b class="nc">&nbsp;            CreateToaster(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;oven&quot;:
<b class="nc">&nbsp;            CreateOven(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;customer counter&quot;:
<b class="nc">&nbsp;            CreateCustomerCounters(rect);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;tomato&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Tomato);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;lettuce&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Lettuce);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;onion&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Onion);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;mince&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Mince);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;buns&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Buns);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;dough&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Dough);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;cheese&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Cheese);</b>
<b class="nc">&nbsp;            break;</b>
&nbsp;          case &quot;potato&quot;:
<b class="nc">&nbsp;            CreateFoodCrates(rect, ItemEnum.Potato);</b>
&nbsp;            break;
&nbsp;        }
<b class="nc">&nbsp;      }</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    timerLabel = new Label(&quot;TIME: &quot; + timer,</b>
&nbsp;        new Label.LabelStyle(new BitmapFont(), Color.WHITE));
&nbsp;
<b class="nc">&nbsp;    moneyLabel = new Label(&quot;Money: ¥&quot; + timer,</b>
&nbsp;        new Label.LabelStyle(new BitmapFont(), Color.WHITE));
&nbsp;
<b class="nc">&nbsp;    timerFont = new BitmapFont();</b>
<b class="nc">&nbsp;    pauseStage = new Stage();</b>
<b class="nc">&nbsp;    pauseStage.getViewport().update(Gdx.graphics.getWidth(), Gdx.graphics.getHeight(), true);</b>
<b class="nc">&nbsp;    scale = 1.00f;</b>
&nbsp;    // check if the game is in full screen mode
&nbsp;    // (thus the screen width is greater than 720)
<b class="nc">&nbsp;    if (pauseStage.getViewport().getScreenWidth() &gt; 720) {</b>
<b class="nc">&nbsp;      scale = 0.5f * ((pauseStage.getViewport().getScreenWidth() / 720f) + (</b>
<b class="nc">&nbsp;          pauseStage.getViewport().getScreenHeight() / 1280f));</b>
&nbsp;    }
<b class="nc">&nbsp;    if (loadSave) { // if the game is being loaded from a save</b>
<b class="nc">&nbsp;      LoadGame();</b>
&nbsp;    }
<b class="nc">&nbsp;    isEndlessMode = CCParams.NoCustomers == -1;</b>
<b class="nc">&nbsp;    setupGameUI();</b>
<b class="nc">&nbsp;    setupPauseMenu();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Sets up the UI elements which will be displayed during the game.
&nbsp;   *
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  private void setupGameUI() {
<b class="nc">&nbsp;    gameUIStage = new Stage();</b>
<b class="nc">&nbsp;    Gdx.input.setInputProcessor(gameUIStage);</b>
<b class="nc">&nbsp;    Table gameUITable = new Table();</b>
<b class="nc">&nbsp;    gameUIStage.addActor(gameUITable);</b>
<b class="nc">&nbsp;    gameUITable.setFillParent(true);</b>
<b class="nc">&nbsp;    gameUITable.align(Align.top);</b>
<b class="nc">&nbsp;    if (isEndlessMode) {</b>
<b class="nc">&nbsp;      Label modeLabel = new Label(&quot;ENDLESS MODE&quot;, new Label.LabelStyle(new BitmapFont(),</b>
&nbsp;          Color.WHITE));
<b class="nc">&nbsp;      gameUITable.add(modeLabel).align(Align.topLeft).expandX();</b>
<b class="nc">&nbsp;    } else {</b>
<b class="nc">&nbsp;      Label modeLabel = new Label(&quot;SCENARIO MODE&quot;,</b>
&nbsp;          new Label.LabelStyle(new BitmapFont(), Color.WHITE));
<b class="nc">&nbsp;      gameUITable.add(modeLabel).align(Align.topLeft).expandX();</b>
&nbsp;    }
<b class="nc">&nbsp;    TextureRegion pauseBtn = new TextureRegion(new Texture(&quot;PauseUp.png&quot;));</b>
<b class="nc">&nbsp;    TextureRegion pauseBtnDown = new TextureRegion(new Texture(&quot;PauseDown.png&quot;));</b>
<b class="nc">&nbsp;    Drawable pauseBtnDrawable = new TextureRegionDrawable(pauseBtn);</b>
<b class="nc">&nbsp;    Drawable pauseBtnDrawableDown = new TextureRegionDrawable(pauseBtnDown);</b>
<b class="nc">&nbsp;    Button.ButtonStyle pauseButtonStyle = new Button.ButtonStyle();</b>
<b class="nc">&nbsp;    Button pauseButton = new Button();</b>
<b class="nc">&nbsp;    pauseButton.setStyle(pauseButtonStyle);</b>
<b class="nc">&nbsp;    pauseButtonStyle.up = pauseBtnDrawable;</b>
<b class="nc">&nbsp;    pauseButtonStyle.down = pauseBtnDrawableDown;</b>
<b class="nc">&nbsp;    gameUITable.add(pauseButton).width(48 * scale).height(48 * scale).align(Align.topRight)</b>
<b class="nc">&nbsp;        .expandX();</b>
<b class="nc">&nbsp;    gameUITable.row();</b>
<b class="nc">&nbsp;    pauseButton.addListener(new ClickListener() {</b>
&nbsp;      @Override
&nbsp;      public void clicked(InputEvent event, float x, float y) {
<b class="nc">&nbsp;        Paused = true;</b>
<b class="nc">&nbsp;        Gdx.input.setInputProcessor(pauseStage); // set the input processor to the pause stage</b>
&nbsp;      }
&nbsp;    });
&nbsp;    //TODO: Possibly use this function for the powerup menu in the future
&nbsp;
&nbsp;    //TODO: Add a level which displays the number of customers remaining for the scenario mode
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Creates the pause menu.
&nbsp;   *
&nbsp;   * @author Jack Vickers
&nbsp;   * @date 07/04/2023
&nbsp;   */
&nbsp;  private void setupPauseMenu() {
&nbsp;
<b class="nc">&nbsp;    Image pauseImage = new Image(new Texture(&quot;SemiTransparentBG.png&quot;));</b>
<b class="nc">&nbsp;    pauseImage.setSize(pauseStage.getWidth(), pauseStage.getHeight());</b>
<b class="nc">&nbsp;    pauseImage.setPosition(0, 0);</b>
<b class="nc">&nbsp;    pauseStage.addActor(pauseImage);</b>
<b class="nc">&nbsp;    Table pauseTable = new Table(); // create a table to hold the pause menu</b>
<b class="nc">&nbsp;    pauseStage.addActor(pauseTable); // add the table to the stage</b>
<b class="nc">&nbsp;    pauseTable.setFillParent(true);</b>
<b class="nc">&nbsp;    pauseTable.align(Align.center);</b>
&nbsp;
&nbsp;    // The following block of code creates the resume button and adds it to the table
<b class="nc">&nbsp;    TextureRegion resumeBtn = new TextureRegion(new Texture(&quot;ResumeUp.png&quot;));</b>
<b class="nc">&nbsp;    TextureRegion resumeBtnDown = new TextureRegion(new Texture(&quot;ResumeDown.png&quot;));</b>
<b class="nc">&nbsp;    Drawable drawableResumeBtn = new TextureRegionDrawable(resumeBtn);</b>
<b class="nc">&nbsp;    Drawable drawableResumeBtnDown = new TextureRegionDrawable(resumeBtnDown);</b>
<b class="nc">&nbsp;    Button.ButtonStyle resumeButtonStyle = new Button.ButtonStyle();</b>
<b class="nc">&nbsp;    Button resumeButton = new Button();</b>
<b class="nc">&nbsp;    resumeButton.setStyle(resumeButtonStyle);</b>
<b class="nc">&nbsp;    resumeButtonStyle.up = drawableResumeBtn;</b>
<b class="nc">&nbsp;    resumeButtonStyle.down = drawableResumeBtnDown;</b>
<b class="nc">&nbsp;    pauseTable.add(resumeButton).width(250 * scale).height(50 * scale).padBottom(50 * scale)</b>
<b class="nc">&nbsp;        .padTop(80 * scale);</b>
<b class="nc">&nbsp;    pauseTable.row();</b>
&nbsp;
&nbsp;    // The following block of code adds a listener to the resume button
<b class="nc">&nbsp;    resumeButton.addListener(new ClickListener() {</b>
&nbsp;      @Override
&nbsp;      public void clicked(InputEvent event, float x, float y) {
<b class="nc">&nbsp;        Paused = false; // when clicked, the game is no longer paused</b>
<b class="nc">&nbsp;        Gdx.input.setInputProcessor(gameUIStage); // set the input processor to the game UI stage</b>
&nbsp;      }
&nbsp;    });
&nbsp;
&nbsp;    // The following block of code creates the instruction button and adds it to the table
<b class="nc">&nbsp;    TextureRegion instructionBtn = new TextureRegion(new Texture(&quot;HowToPlayUp.png&quot;));</b>
<b class="nc">&nbsp;    TextureRegion instructionBtnDown = new TextureRegion(new Texture(&quot;HowToPlayDown.png&quot;));</b>
<b class="nc">&nbsp;    Drawable drawableInstructionBtn = new TextureRegionDrawable(instructionBtn);</b>
<b class="nc">&nbsp;    Drawable drawableInstructionBtnDown = new TextureRegionDrawable(instructionBtnDown);</b>
<b class="nc">&nbsp;    Button.ButtonStyle instructionButtonStyle = new Button.ButtonStyle();</b>
<b class="nc">&nbsp;    Button instructionButton = new Button();</b>
<b class="nc">&nbsp;    instructionButton.setStyle(instructionButtonStyle);</b>
<b class="nc">&nbsp;    instructionButtonStyle.up = drawableInstructionBtn;</b>
<b class="nc">&nbsp;    instructionButtonStyle.down = drawableInstructionBtnDown;</b>
<b class="nc">&nbsp;    pauseTable.add(instructionButton).width(250 * scale).height(50 * scale).padBottom(50 * scale);</b>
<b class="nc">&nbsp;    pauseTable.row();</b>
&nbsp;
&nbsp;    // The following block of code adds a listener to the instruction button
<b class="nc">&nbsp;    instructionButton.addListener(new ClickListener() {</b>
&nbsp;      @Override
&nbsp;      public void clicked(InputEvent event, float x, float y) {
<b class="nc">&nbsp;        System.out.println(&quot;For now this doesn&#39;t do anything&quot;);</b>
&nbsp;      }
&nbsp;    });
&nbsp;
&nbsp;    // The following block of code creates the save button and adds it to the table
<b class="nc">&nbsp;    TextureRegion saveBtn = new TextureRegion(new Texture(&quot;SaveUp.png&quot;));</b>
<b class="nc">&nbsp;    TextureRegion saveBtnDown = new TextureRegion(new Texture(&quot;SaveDown.png&quot;));</b>
<b class="nc">&nbsp;    Drawable drawableSaveBtn = new TextureRegionDrawable(saveBtn);</b>
<b class="nc">&nbsp;    Drawable drawableSaveBtnDown = new TextureRegionDrawable(saveBtnDown);</b>
<b class="nc">&nbsp;    Button.ButtonStyle saveButtonStyle = new Button.ButtonStyle();</b>
<b class="nc">&nbsp;    Button saveButton = new Button();</b>
<b class="nc">&nbsp;    saveButton.setStyle(saveButtonStyle);</b>
<b class="nc">&nbsp;    saveButtonStyle.up = drawableSaveBtn;</b>
<b class="nc">&nbsp;    saveButtonStyle.down = drawableSaveBtnDown;</b>
<b class="nc">&nbsp;    pauseTable.add(saveButton).width(250 * scale).height(50 * scale).padBottom(20 * scale);</b>
<b class="nc">&nbsp;    pauseTable.row();</b>
&nbsp;
&nbsp;    // Creates a label for the save button which will be used to give the user feedback
<b class="nc">&nbsp;    Label saveLabel = new Label(&quot;&quot;, new LabelStyle(new BitmapFont(), Color.WHITE));</b>
<b class="nc">&nbsp;    saveLabel.setFontScale(scale);</b>
&nbsp;
<b class="nc">&nbsp;    saveLabel.setAlignment(Align.right);</b>
<b class="nc">&nbsp;    pauseTable.add(saveLabel).padBottom(10 * scale);</b>
<b class="nc">&nbsp;    pauseTable.row();</b>
&nbsp;
&nbsp;    // The following block of code adds a listener to the save button
<b class="nc">&nbsp;    saveButton.addListener(new ClickListener() {</b>
&nbsp;      @Override
&nbsp;      public void clicked(InputEvent event, float x, float y) {
<b class="nc">&nbsp;        SaveGame();</b>
<b class="nc">&nbsp;        saveLabel.setText(&quot;Game has successfully been saved&quot;);</b>
&nbsp;      }
&nbsp;    });
&nbsp;
&nbsp;    // The following block of code creates the quit button and adds it to the table
<b class="nc">&nbsp;    TextureRegion quitBtn = new TextureRegion(new Texture(&quot;ExitUp.png&quot;));</b>
<b class="nc">&nbsp;    TextureRegion quitBtnDown = new TextureRegion(new Texture(&quot;ExitDown.png&quot;));</b>
<b class="nc">&nbsp;    Drawable drawableQuitBtn = new TextureRegionDrawable(quitBtn);</b>
<b class="nc">&nbsp;    Drawable drawableQuitBtnDown = new TextureRegionDrawable(quitBtnDown);</b>
<b class="nc">&nbsp;    Button.ButtonStyle quitButtonStyle = new Button.ButtonStyle();</b>
<b class="nc">&nbsp;    Button quitButton = new Button();</b>
<b class="nc">&nbsp;    quitButton.setStyle(quitButtonStyle);</b>
<b class="nc">&nbsp;    quitButtonStyle.up = drawableQuitBtn;</b>
<b class="nc">&nbsp;    quitButtonStyle.down = drawableQuitBtnDown;</b>
<b class="nc">&nbsp;    pauseTable.add(quitButton).width(250 * scale).height(50 * scale).padBottom(50 * scale);</b>
<b class="nc">&nbsp;    pauseTable.row();</b>
&nbsp;
&nbsp;    // The following block of code adds a listener to the quit button
<b class="nc">&nbsp;    quitButton.addListener(new ClickListener() {</b>
&nbsp;      @Override
&nbsp;      public void clicked(InputEvent event, float x, float y) {
<b class="nc">&nbsp;        gameMusic.stop();</b>
<b class="nc">&nbsp;        game.setScreen(new MenuScreen(game));</b>
&nbsp;      }
&nbsp;    });
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create a bin given a rectangle
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateBin(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Bin = new GameObject(null);</b>
<b class="nc">&nbsp;    Bin.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Bin.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    TrashCan TC = new TrashCan();</b>
<b class="nc">&nbsp;    Bin.attachScript(TC);</b>
<b class="nc">&nbsp;    Stations.add(Bin);</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create a hob
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateHobs(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Hob = new GameObject(null);</b>
<b class="nc">&nbsp;    Hob.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Hob.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    HobStation HS = new HobStation(difficultyState.cookingParams);</b>
<b class="nc">&nbsp;    Hob.attachScript(HS);</b>
<b class="nc">&nbsp;    Stations.add(Hob);</b>
<b class="nc">&nbsp;    HS.init();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create a toaster
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateToaster(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Toast = new GameObject(null);</b>
<b class="nc">&nbsp;    Toast.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Toast.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    ToasterStation TS = new ToasterStation(difficultyState.cookingParams);</b>
<b class="nc">&nbsp;    Toast.attachScript(TS);</b>
<b class="nc">&nbsp;    Stations.add(Toast);</b>
<b class="nc">&nbsp;    TS.init();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create chopping station
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateChopping(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Chop = new GameObject(null);</b>
<b class="nc">&nbsp;    Chop.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Chop.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    ChopStation CS = new ChopStation(difficultyState.cookingParams);</b>
<b class="nc">&nbsp;    Chop.attachScript(CS);</b>
<b class="nc">&nbsp;    Stations.add(Chop);</b>
<b class="nc">&nbsp;    CS.init();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create an oven
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateOven(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Oven = new GameObject(null);</b>
<b class="nc">&nbsp;    Oven.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Oven.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    OvenStation OS = new OvenStation(difficultyState.cookingParams);</b>
<b class="nc">&nbsp;    Oven.attachScript(OS);</b>
<b class="nc">&nbsp;    Stations.add(Oven);</b>
<b class="nc">&nbsp;    OS.init();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create a food create with an item inside
&nbsp;   * @param rect
&nbsp;   * @param item
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateFoodCrates(Rectangle rect, ItemEnum item) {
<b class="nc">&nbsp;    GameObject Crate = new GameObject(null);</b>
<b class="nc">&nbsp;    Crate.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Crate.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    FoodCrate FC = new FoodCrate(item);</b>
<b class="nc">&nbsp;    Crate.attachScript(FC);</b>
<b class="nc">&nbsp;    Stations.add(Crate);</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create an assembly station
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateAssembly(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Ass = new GameObject(null);</b>
<b class="nc">&nbsp;    Ass.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Ass.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    AssemblyStation AS = new AssemblyStation(difficultyState.cookingParams);</b>
<b class="nc">&nbsp;    Ass.attachScript(AS);</b>
<b class="nc">&nbsp;    assemblyStations.add(Ass);</b>
<b class="nc">&nbsp;    Stations.add(Ass);</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Create a customer counter
&nbsp;   * @param rect
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  void CreateCustomerCounters(Rectangle rect) {
<b class="nc">&nbsp;    GameObject Cust = new GameObject(null);</b>
<b class="nc">&nbsp;    Cust.setPosition(rect.getX(), rect.getY());</b>
<b class="nc">&nbsp;    Cust.setWidthAndHeight(rect.getWidth(), rect.getHeight());</b>
<b class="nc">&nbsp;    CustomerCounters CC = new CustomerCounters((Item a) -&gt; (customerController.tryGiveFood(a)),</b>
&nbsp;        difficultyState.cookingParams);
<b class="nc">&nbsp;    Cust.attachScript(CC);</b>
<b class="nc">&nbsp;    customerCounters.add(Cust);</b>
<b class="nc">&nbsp;    Stations.add(Cust);</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * A function which builds the world box in Box2d which is used for all the hitboxes;
&nbsp;   *
&nbsp;   * @param world  the world it&#39;s being built in
&nbsp;   * @param x      the starting x of the world
&nbsp;   * @param y      the starting y of the world
&nbsp;   * @param width  the width of the world
&nbsp;   * @param height the height of the world
&nbsp;   * @param type   the type of the world
&nbsp;   * @param name   the name of the world
&nbsp;   *
&nbsp;   * @author Amy Cross
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void buildObject(World world, float x, float y, float width, float height,
&nbsp;      String type, String name) {
<b class="nc">&nbsp;    BodyDef bdef = new BodyDef();</b>
<b class="nc">&nbsp;    bdef.position.set((x + width / 2), (y + height / 2));</b>
<b class="nc">&nbsp;    if (type == &quot;Static&quot;) {</b>
<b class="nc">&nbsp;      bdef.type = BodyDef.BodyType.StaticBody;</b>
<b class="nc">&nbsp;      pathfinding.addStaticObject((int) x, (int) y, (int) width, (int) height);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;    } else if (type == &quot;Dynamic&quot;) {</b>
<b class="nc">&nbsp;      bdef.type = BodyDef.BodyType.DynamicBody;</b>
&nbsp;    }
<b class="nc">&nbsp;    Body body = world.createBody(bdef);</b>
<b class="nc">&nbsp;    body.getPosition();</b>
<b class="nc">&nbsp;    body.setUserData(name);</b>
<b class="nc">&nbsp;    PolygonShape shape = new PolygonShape();</b>
<b class="nc">&nbsp;    shape.setAsBox((width / 2), (height / 2));</b>
<b class="nc">&nbsp;    FixtureDef fdef = new FixtureDef();</b>
<b class="nc">&nbsp;    fdef.shape = shape;</b>
<b class="nc">&nbsp;    body.createFixture(fdef);</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * End game sequence
&nbsp;   * @param values
&nbsp;   */
&nbsp;  public void EndGame(EndOfGameValues values){
&nbsp;
<b class="nc">&nbsp;    VictoryScreen screen = new VictoryScreen(game, this, timer, values);</b>
<b class="nc">&nbsp;    game.setScreen(screen);</b>
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * Plays the game music when the screen is shown.
&nbsp;   * @author Amy Cross
&nbsp;   * @author Jack Vickers
&nbsp;   */
&nbsp;  @Override
&nbsp;  public void show() {
<b class="nc">&nbsp;    if (!gameMusic.isPlaying()) {</b>
<b class="nc">&nbsp;      gameMusic.setVolume(0.6f);</b>
<b class="nc">&nbsp;      gameMusic.play(); // only play the music if it&#39;s not already playing</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Displays the timer.
&nbsp;   *
&nbsp;   * @author Amy Cross
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void displayTimer() {
<b class="nc">&nbsp;    seconds += Gdx.graphics.getDeltaTime();</b>
<b class="nc">&nbsp;    if (seconds &gt;= 1f) {</b>
<b class="nc">&nbsp;      timer++;</b>
<b class="nc">&nbsp;      seconds = 0f;</b>
&nbsp;    }
<b class="nc">&nbsp;    CharSequence str = &quot;TIME: &quot; + timer;</b>
<b class="nc">&nbsp;    timerFont.draw(game.batch, str, 380, 35);</b>
<b class="nc">&nbsp;    timerFont.getData().setScale(1.5f, 1.5f);</b>
<b class="nc">&nbsp;    timerLabel.setText(str);</b>
&nbsp;
<b class="nc">&nbsp;    CharSequence str2 = &quot;Money: ¥&quot; + customerController.Money;</b>
<b class="nc">&nbsp;    timerFont.draw(game.batch, str2, 500, 35);</b>
<b class="nc">&nbsp;    timerFont.getData().setScale(1.5f, 1.5f);</b>
&nbsp;
<b class="nc">&nbsp;    if (customerController.Reputation != -1) {</b>
<b class="nc">&nbsp;      CharSequence str3 = &quot;Reputation: &quot; + customerController.Reputation;</b>
<b class="nc">&nbsp;      timerFont.draw(game.batch, str3, 650, 35);</b>
<b class="nc">&nbsp;      timerFont.getData().setScale(1.5f, 1.5f);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    CharSequence str3 = &quot;Patience: &quot;;</b>
<b class="nc">&nbsp;    timerFont.draw(game.batch, str3, 200, 25);</b>
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Calls all logic updates and sprite draws as well as checks if game has been completed
&nbsp;   *
&nbsp;   * @param delta The time in seconds since the last render.
&nbsp;   *
&nbsp;   * @author Felix Seanor
&nbsp;   * @author Amy Cross
&nbsp;   * @author Jack Hinton
&nbsp;   */
&nbsp;  @Override
&nbsp;  public void render(float delta) {
&nbsp;    //create world
<b class="nc">&nbsp;    Gdx.gl.glClearColor(0, 0, 0, 1);</b>
<b class="nc">&nbsp;    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);</b>
&nbsp;
&nbsp;    //create camera
<b class="nc">&nbsp;    camera.update();</b>
<b class="nc">&nbsp;    mapRenderer.setView(camera);</b>
<b class="nc">&nbsp;    mapRenderer.render();</b>
&nbsp;
&nbsp;//    if(Gdx.input.isKeyJustPressed(Keys.B))
&nbsp;//      SaveGame();
&nbsp;
<b class="nc">&nbsp;    if (Gdx.input.isKeyJustPressed(Keys.V)) {</b>
<b class="nc">&nbsp;      LoadGame();</b>
&nbsp;    }
&nbsp;
&nbsp;    //Removed and simplified logic
&nbsp;
<b class="nc">&nbsp;    world.step(1 / 60f, 6, 2);</b>
&nbsp;
<b class="nc">&nbsp;    game.batch.setProjectionMatrix(camera.combined);</b>
&nbsp;
&nbsp;    //Begins drawing the game batch
<b class="nc">&nbsp;    game.batch.begin();</b>
&nbsp;
<b class="nc">&nbsp;    if (!Paused) {</b>
<b class="nc">&nbsp;      displayTimer();</b>
&nbsp;      //Update Scripts
<b class="nc">&nbsp;      GameObjectManager.objManager.doUpdate(Gdx.graphics.getDeltaTime());</b>
&nbsp;      //New rendering system
<b class="nc">&nbsp;      RenderManager.renderer.onRender(game.batch);</b>
&nbsp;
&nbsp;      // Mutes or plays the music
<b class="nc">&nbsp;      if (Gdx.input.isKeyJustPressed((Input.Keys.M))) {</b>
<b class="nc">&nbsp;        if (gameMusic.isPlaying()) {</b>
<b class="nc">&nbsp;          gameMusic.pause();</b>
&nbsp;        } else {
<b class="nc">&nbsp;          gameMusic.play();</b>
&nbsp;        }
&nbsp;      }
<b class="nc">&nbsp;      if (Gdx.input.isKeyJustPressed(Input.Keys.G)) {</b>
<b class="nc">&nbsp;        powerup.doSpeedPowerup();</b>
&nbsp;      }
<b class="nc">&nbsp;      if (Gdx.input.isKeyJustPressed(Input.Keys.H)) {</b>
<b class="nc">&nbsp;        powerup.buyReputation();</b>
&nbsp;      }
<b class="nc">&nbsp;      if (Gdx.input.isKeyJustPressed(Input.Keys.J)) {</b>
<b class="nc">&nbsp;        powerup.superFood();</b>
&nbsp;      }
<b class="nc">&nbsp;      if (Gdx.input.isKeyJustPressed(Input.Keys.K)) {</b>
<b class="nc">&nbsp;        powerup.tetrisSuperFood();</b>
&nbsp;      }
&nbsp;    } else {
<b class="nc">&nbsp;      pauseStage.draw();</b>
&nbsp;    }
&nbsp;    // THIS IS SAM&#39;S CODE:
&nbsp;//    LeaderBoard x = new LeaderBoard();
&nbsp;//    x.createJSONFile();
&nbsp;//    try {
&nbsp;//      x.readJSONData();
&nbsp;//    } catch (IOException e) {
&nbsp;//      throw new RuntimeException(e);
&nbsp;//    }
&nbsp;
<b class="nc">&nbsp;    game.batch.end();</b>
&nbsp;
&nbsp;    // The following code must occur after the batch is ended.
&nbsp;    // Otherwise, it causes issues with customer positioning.
<b class="nc">&nbsp;    if (!Paused) { // displays the game UI if the game is not paused</b>
<b class="nc">&nbsp;      gameUIStage.draw();</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * Finds all the collisions and assigns the names Also has a convenience function to disregard the
&nbsp;   * chef collision
&nbsp;   *
&nbsp;   * @author Amy Cross
&nbsp;   */
&nbsp;  public void createCollisionListener() {
<b class="nc">&nbsp;    world.setContactListener(new ContactListener() {</b>
&nbsp;
&nbsp;      /**
&nbsp;       * gets the collision start and finds the names of the things colliding
&nbsp;       *
&nbsp;       * @param contact The object containing collision information
&nbsp;       */
&nbsp;      @Override
&nbsp;      public void beginContact(Contact contact) {
&nbsp;
<b class="nc">&nbsp;        Object objectA = contact.getFixtureA().getBody().getUserData();</b>
<b class="nc">&nbsp;        Object objectB = contact.getFixtureB().getBody().getUserData();</b>
<b class="nc">&nbsp;        Gdx.app.log(&quot;beginContact&quot;, &quot;between &quot; + objectA + &quot; and &quot; + objectB);</b>
&nbsp;      }
&nbsp;
&nbsp;
&nbsp;      /**
&nbsp;       * outputs when two objects have stopped colliding
&nbsp;       *
&nbsp;       * @param contact The object containing decollision information
&nbsp;       */
&nbsp;      @Override
&nbsp;      public void endContact(Contact contact) {
&nbsp;
<b class="nc">&nbsp;        Object objectA = contact.getFixtureA().getBody().getUserData();</b>
<b class="nc">&nbsp;        Object objectB = contact.getFixtureB().getBody().getUserData();</b>
<b class="nc">&nbsp;        Gdx.app.log(&quot;endContact&quot;, &quot;between &quot; + objectA + &quot; and &quot; + objectB);</b>
&nbsp;      }
&nbsp;
&nbsp;      /**
&nbsp;       * Finds out when the two chefs have collided to ignore this collision
&nbsp;       *
&nbsp;       * @param contact The object containing collision information
&nbsp;       * @param oldManifold Needed by the override
&nbsp;       */
&nbsp;      @Override
&nbsp;      public void preSolve(Contact contact, Manifold oldManifold) {
<b class="nc">&nbsp;        Object objectA = contact.getFixtureA().getBody().getUserData();</b>
<b class="nc">&nbsp;        Object objectB = contact.getFixtureB().getBody().getUserData();</b>
<b class="nc">&nbsp;        if ((objectA.toString().contentEquals(&quot;Chef0&quot;)) &amp;&amp; (objectB.toString()</b>
<b class="nc">&nbsp;            .contentEquals(&quot;Chef1&quot;))) {</b>
<b class="nc">&nbsp;          System.out.println(&quot;CONTACT&quot;);</b>
<b class="nc">&nbsp;          contact.setEnabled(false);</b>
&nbsp;        }
&nbsp;      }
&nbsp;
&nbsp;      @Override
&nbsp;      public void postSolve(Contact contact, ContactImpulse impulse) {
<b class="nc">&nbsp;      }</b>
&nbsp;
&nbsp;    });
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Save the game.
&nbsp;   *
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void SaveGame(){
<b class="nc">&nbsp;    SaveState Saving = new SaveState();</b>
<b class="nc">&nbsp;    Saving.SaveState(&quot;SavedData.ser&quot;, masterChef, customerController, difficulty, timer, seconds, Stations, customerCounters, assemblyStations);</b>
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Load the game from save
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void LoadGame(){
<b class="nc">&nbsp;    SaveState Saving = new SaveState();</b>
&nbsp;
<b class="nc">&nbsp;    GameState state = Saving.LoadState(&quot;SavedData.ser&quot;);</b>
&nbsp;
<b class="nc">&nbsp;    LoadState(state);</b>
<b class="nc">&nbsp;    masterChef.LoadState(state);</b>
<b class="nc">&nbsp;    customerController.LoadState(state);</b>
&nbsp;
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Loads the state of a previous state of the world, all LoadGame to a full sweep.
&nbsp;   * @param state
&nbsp;   *
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void LoadState(GameState state) {
&nbsp;
<b class="nc">&nbsp;    int i = 0;</b>
<b class="nc">&nbsp;    timer = state.Timer;</b>
<b class="nc">&nbsp;    seconds = state.seconds;</b>
<b class="nc">&nbsp;    difficulty = state.difficulty;</b>
<b class="nc">&nbsp;    for (GameObject station : Stations) {</b>
<b class="nc">&nbsp;      Scriptable scriptable = station.GetScript(0);</b>
<b class="nc">&nbsp;      if (scriptable instanceof Station) {</b>
<b class="nc">&nbsp;        ((Station) scriptable).LoadState(state.FoodOnCounters.get(i++));</b>
&nbsp;      }
&nbsp;
&nbsp;
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    for (GameObject station : customerCounters) {</b>
<b class="nc">&nbsp;      ((Station) station.GetScript(0)).LoadState(state.FoodOnCounters.get(i++));</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    for (GameObject station : assemblyStations) {</b>
<b class="nc">&nbsp;      ((Station) station.GetScript(0)).LoadState(state.FoodOnCounters.get(i++));</b>
<b class="nc">&nbsp;    }</b>
&nbsp;  }
&nbsp;
&nbsp;  public String printHello() {
<b class="nc">&nbsp;    return &quot;Hello&quot;;</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * Saves the current state of the game screen class
&nbsp;   * @param state
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  public void SaveState(GameState state){
<b class="nc">&nbsp;    List&lt;List&lt;ItemState&gt;&gt; itemsOnCounters = new LinkedList&lt;&gt;();</b>
<b class="nc">&nbsp;    state.difficulty = difficulty;</b>
<b class="nc">&nbsp;    state.Timer = timer;</b>
<b class="nc">&nbsp;    state.seconds = seconds;</b>
<b class="nc">&nbsp;    for (GameObject station : Stations) {</b>
<b class="nc">&nbsp;      Scriptable scriptable = station.GetScript(0);</b>
<b class="nc">&nbsp;      if (scriptable instanceof Station) {</b>
<b class="nc">&nbsp;        itemsOnCounters.add(((Station) scriptable).SaveState());</b>
&nbsp;      }
&nbsp;
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    for (GameObject station : customerCounters) {</b>
<b class="nc">&nbsp;      itemsOnCounters.add(((Station) station.GetScript(0)).SaveState());</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    for (GameObject station : assemblyStations) {</b>
<b class="nc">&nbsp;      itemsOnCounters.add(((Station) station.GetScript(0)).SaveState());</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
<b class="nc">&nbsp;    state.FoodOnCounters = itemsOnCounters;</b>
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  public Difficulty getDifficulty() {
<b class="nc">&nbsp;    return difficulty;</b>
&nbsp;  }
&nbsp;
&nbsp;  public int getTimer() {
<b class="nc">&nbsp;    return timer;</b>
&nbsp;  }
&nbsp;
&nbsp;  public float getSeconds() {
<b class="nc">&nbsp;    return seconds;</b>
&nbsp;  }
&nbsp;
&nbsp;  public List&lt;GameObject&gt; getStations() {
<b class="nc">&nbsp;    return Stations;</b>
&nbsp;  }
&nbsp;
&nbsp;  public List&lt;GameObject&gt; getCustomerCounters() {
<b class="nc">&nbsp;    return customerCounters;</b>
&nbsp;  }
&nbsp;
&nbsp;  public List&lt;GameObject&gt; getAssemblyStations() {
<b class="nc">&nbsp;    return assemblyStations;</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * Resizes the stage when the window is resized so that the buttons are in the correct place.
&nbsp;   * Parameters inherited from interface com.badlogic.gdx.Screen and not explicitly used.
&nbsp;   */
&nbsp;  @Override
&nbsp;  public void resize(int width, int height) {
<b class="nc">&nbsp;    pauseStage.getViewport().update(Gdx.graphics.getWidth(), Gdx.graphics.getHeight(), true);</b>
<b class="nc">&nbsp;    gameUIStage.getViewport().update(Gdx.graphics.getWidth(), Gdx.graphics.getHeight(), true);</b>
&nbsp;  }
&nbsp;
&nbsp;  @Override
&nbsp;  public void pause() {
<b class="nc">&nbsp;  }</b>
&nbsp;
&nbsp;  @Override
&nbsp;  public void resume() {
<b class="nc">&nbsp;  }</b>
&nbsp;
&nbsp;  @Override
&nbsp;  public void hide() {
<b class="nc">&nbsp;  }</b>
&nbsp;
&nbsp;  /**
&nbsp;   * Disposes of all sprites from memory to keep it optimised
&nbsp;   * @author Felix Seanor
&nbsp;   */
&nbsp;  @Override
&nbsp;  public void dispose() {
<b class="nc">&nbsp;    game.batch.dispose();</b>
&nbsp;  }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-04-24 20:42</div>
</div>
</body>
</html>
